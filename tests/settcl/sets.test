# -*- tcl -*- tcl.tk//DSL tcltest//EN//2.0
# # ## ### ##### ######## ############# #####################
## sets.test: tests for the set package.

kt check Tcl     8.5
kt check tcltest 2

kt local testing struct::set

# # ## ### ##### ######## ############# #####################

::tcltest::testConstraint sets_c   0
::tcltest::testConstraint sets_tcl 1

# # ## ### ##### ######## ############# #####################

proc Nothing {} {
    return [tcltest::wrongNumArgs {struct set} {subcommand args} 0]
}

proc Wrong {m loarg n} {
    return [tcltest::wrongNumArgs "struct set $m" $loarg $n]
}

proc TooMany {m loarg} {
    return [tcltest::tooManyArgs "struct set $m" $loarg]
}

# # ## ### ##### ######## ############# #####################

kt source ../include/sets.tests

# # ## ### ##### ######## ############# #####################
cleanupTests
return

    switch -exact -- $impl {
	critcl {
	    if {[package vsatisfies [package present Tcl] 8.5]} {
		proc tmWrong {m loarg n} {
		    return [tcltest::wrongNumArgs "setop $m" $loarg $n]
		}

		proc tmTooMany {m loarg} {
		    return [tcltest::tooManyArgs "setop $m" $loarg]
		}

		proc Nothing {} {
		    return [tcltest::wrongNumArgs {setop} {cmd ?arg ...?} 0]
		}
	    }
	}
    }
